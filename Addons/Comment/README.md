onethink-addon-comment
====
OneThink文档评论插件

欢迎大家测试反馈，请联系 leoding86(at)msn.com，谢谢~~
截图：https://code.jd.com/LeoDing86/onethink-addon-comment/tree/master/screenshot

说明：
1. 此插件使用的钩子为“documentDetailAfter”、“pageFooter”、“pageHeader”，需要传入的参数必须有此文档的ID，例如{:hook('documentDetailAfter',array('id'=>$id))}，其中$id为文档ID。
2. 安装插件会创建两个数据表，{数据表前缀}addon_comment，{数据表前缀}addon_comment_iplist，安装插件前会试图删除这两个表再创建，如果已存在这两个数据表请修改相应的模型和数据表名再安装。
3. 卸载插件会删除安装时的两个数据表，删除前按照情况备份数据表。

20150630-1711
由于很长时间没有弄OT，所以有些问题我没有来得及关注，很抱歉，如果以后发现问题，请发邮箱，这样我就能第一时间知道了，谢谢。
1. 修复安装问题，可以部分没有提交的修复；
2. 增加设置“评论标题”，“每页显示评论数量”；
3. 优化评论列表逻辑，优化引用评论逻辑。
更新方法：
请在对应的评论数据表中添加字段，格式为 `pids` TEXT NOT NULL ，用新版本覆盖老版本即可。

20150415-1717

更新：
1. 添加在后台列表可以直接修改评论状态；
2. 修复切换模版时总是显示默认模版的错误；

更新方式：
备份两个相关数据库，卸载插件，覆盖插件重新安装，导入数据即可。

20150413-1020

更新：
1. 更新后台设置，添加评论开关以及模版切换；
2. 分离前端模版主题，使之支持模版切换。

更新方式：
备份两个相关数据库，卸载插件，覆盖插件重新安装，导入数据即可。


20150410-1806

更新：
1. 添加后台评论列表支持文档标题；
2. 添加“评论频率严格模式”选项，会影响记录IP的时间点；
3. 将前台的css和js分离，使用pageHeader和pagefooter钩子载入；
4. 修改获取评论的数量上限；
5. 修改项目截图；

更新方式：
备份两个相关数据库，卸载插件，覆盖插件重新安装，导入数据即可。


20150404-1931

描述：
1. 支持对Document以及扩展Document的类型的评论；
2. 能够在后台针对某篇文档添加评论；
3. 支持引用评论，前台可以显示引用关系，删除父节点可以显示“引用评论已删除”；
4. 可以设置评论间隔时间、登录后评论和验证码评论。